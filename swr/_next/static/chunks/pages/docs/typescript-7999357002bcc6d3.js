(self.webpackChunk_N_E = self.webpackChunk_N_E || []).push([[619], { 7626: function (s, e, r) { (window.__NEXT_P = window.__NEXT_P || []).push(["/docs/typescript.html", function () { return r(7262) }]) }, 7262: function (s, e, r) { "use strict"; r.r(e), r.d(e, { __toc: function () { return i } }); var n = r(2676), o = r(3017), l = r(6952); let i = [{ depth: 2, value: "基本用法", id: "basic-usage" }, { depth: 3, value: "useSWR", id: "useswr" }, { depth: 3, value: "useSWRInfinite", id: "useswrinfinite" }, { depth: 3, value: "useSWRSubscription", id: "useswrsubscription" }, { depth: 2, value: "泛型", id: "generics" }, { depth: 2, value: "中间件类型", id: "middleware-types" }]; function t (s) { let e = Object.assign({ h1: "h1", p: "p", h2: "h2", code: "code", h3: "h3", pre: "pre", span: "span", a: "a", ul: "ul", li: "li" }, (0, l.a)(), s.components); return (0, n.jsxs)(n.Fragment, { children: [(0, n.jsx)(e.h1, { children: "TypeScript" }), "\n", (0, n.jsx)(e.p, { children: "SWR 对于使用 TypeScript 编写的 app 是友好的，开箱即用，类型安全。" }), "\n", (0, n.jsx)(e.h2, { id: "basic-usage", children: "基本用法" }), "\n", (0, n.jsxs)(e.p, { children: ["默认情况下，SWR 会从 ", (0, n.jsx)(e.code, { children: "key" }), " 推断出 ", (0, n.jsx)(e.code, { children: "fetcher" }), " 的参数类型，因此你可以自动获得首选类型。"] }), "\n", (0, n.jsx)(e.h3, { id: "useswr", children: "useSWR" }), "\n", (0, n.jsx)(e.pre, { "data-language": "typescript", "data-theme": "default", hasCopyCode: !0, children: (0, n.jsxs)(e.code, { "data-language": "typescript", "data-theme": "default", children: [(0, n.jsx)(e.span, { className: "line", children: (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-comment)" }, children: "// `key` 被推断为 `string`" }) }), "\n", (0, n.jsxs)(e.span, { className: "line", children: [(0, n.jsx)(e.span, { style: { color: "var(--shiki-token-function)" }, children: "useSWR" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: "(" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-string-expression)" }, children: "'/api/user'" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-punctuation)" }, children: "," }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " key " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: "=>" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " {})" })] }), "\n", (0, n.jsxs)(e.span, { className: "line", children: [(0, n.jsx)(e.span, { style: { color: "var(--shiki-token-function)" }, children: "useSWR" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: "(() " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: "=>" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-string-expression)" }, children: "'/api/user'" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-punctuation)" }, children: "," }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " key " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: "=>" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " {})" })] }), "\n", (0, n.jsx)(e.span, { className: "line", children: " " }), "\n", (0, n.jsx)(e.span, { className: "line", children: (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-comment)" }, children: "// `key` 将被推断为 { a: string; b: { c: string; d: number } }" }) }), "\n", (0, n.jsxs)(e.span, { className: "line", children: [(0, n.jsx)(e.span, { style: { color: "var(--shiki-token-function)" }, children: "useSWR" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: "({ a" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: ":" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-string-expression)" }, children: "'1'" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-punctuation)" }, children: "," }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " b" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: ":" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " { c" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: ":" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-string-expression)" }, children: "'3'" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-punctuation)" }, children: "," }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " d" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: ":" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-constant)" }, children: "2" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " } }" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-punctuation)" }, children: "," }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " key " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: "=>" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " {})" })] }), "\n", (0, n.jsxs)(e.span, { className: "line", children: [(0, n.jsx)(e.span, { style: { color: "var(--shiki-token-function)" }, children: "useSWR" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: "(() " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: "=>" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " ({ a" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: ":" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-string-expression)" }, children: "'1'" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-punctuation)" }, children: "," }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " b" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: ":" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " { c" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: ":" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-string-expression)" }, children: "'3'" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-punctuation)" }, children: "," }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " d" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: ":" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-constant)" }, children: "2" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " } })" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-punctuation)" }, children: "," }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " key " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: "=>" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " {})" })] }), "\n", (0, n.jsx)(e.span, { className: "line", children: " " }), "\n", (0, n.jsx)(e.span, { className: "line", children: (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-comment)" }, children: "// `arg0` 将被推断为 string.  `arg1` 将被推断为 number" }) }), "\n", (0, n.jsxs)(e.span, { className: "line", children: [(0, n.jsx)(e.span, { style: { color: "var(--shiki-token-function)" }, children: "useSWR" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: "([" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-string-expression)" }, children: "'user'" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-punctuation)" }, children: "," }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-constant)" }, children: "8" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: "]" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-punctuation)" }, children: "," }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " ([arg0" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-punctuation)" }, children: "," }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " arg1]) " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: "=>" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " {})" })] }), "\n", (0, n.jsxs)(e.span, { className: "line", children: [(0, n.jsx)(e.span, { style: { color: "var(--shiki-token-function)" }, children: "useSWR" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: "(() " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: "=>" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " [" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-string-expression)" }, children: "'user'" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-punctuation)" }, children: "," }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-constant)" }, children: "8" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: "]" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-punctuation)" }, children: "," }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " ([arg0" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-punctuation)" }, children: "," }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " arg1]) " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: "=>" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " {})" })] })] }) }), "\n", (0, n.jsxs)(e.p, { children: ["你还可以显式地指定 ", (0, n.jsx)(e.code, { children: "key" }), " 和 ", (0, n.jsx)(e.code, { children: "fetcher" }), " 参数的类型。"] }), "\n", (0, n.jsx)(e.pre, { "data-language": "typescript", "data-theme": "default", hasCopyCode: !0, children: (0, n.jsxs)(e.code, { "data-language": "typescript", "data-theme": "default", children: [(0, n.jsxs)(e.span, { className: "line", children: [(0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: "import" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " useSWR" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-punctuation)" }, children: "," }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " { Fetcher } " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: "from" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-string-expression)" }, children: "'swr'" })] }), "\n", (0, n.jsx)(e.span, { className: "line", children: " " }), "\n", (0, n.jsxs)(e.span, { className: "line", children: [(0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: "const" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-constant)" }, children: "uid" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: "=" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-string-expression)" }, children: "'<user_id>'" })] }), "\n", (0, n.jsxs)(e.span, { className: "line", children: [(0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: "const" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-function)" }, children: "fetcher" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: ":" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-function)" }, children: "Fetcher" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: "<" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-function)" }, children: "User" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-punctuation)" }, children: "," }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-constant)" }, children: "string" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: "> " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: "=" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " (id) " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: "=>" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-function)" }, children: "getUserById" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: "(id)" })] }), "\n", (0, n.jsx)(e.span, { className: "line", children: " " }), "\n", (0, n.jsxs)(e.span, { className: "line", children: [(0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: "const" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " { " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-constant)" }, children: "data" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " } " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: "=" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-function)" }, children: "useSWR" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: "(uid" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-punctuation)" }, children: "," }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " fetcher)" })] }), "\n", (0, n.jsx)(e.span, { className: "line", children: (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-comment)" }, children: "// `data` 将会是 `User | undefined`." }) })] }) }), "\n", (0, n.jsxs)(e.p, { children: ["默认情况下，在 ", (0, n.jsx)(e.code, { children: "fetcher" }), " 函数内部", (0, n.jsx)(e.a, { href: "/docs/error-handling.html", children: "抛出的错误" }), "具有 ", (0, n.jsx)(e.code, { children: "any" }), " 类型。该类型也可以明确指定。"] }), "\n", (0, n.jsx)(e.pre, { "data-language": "typescript", "data-theme": "default", hasCopyCode: !0, children: (0, n.jsxs)(e.code, { "data-language": "typescript", "data-theme": "default", children: [(0, n.jsxs)(e.span, { className: "line", children: [(0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: "const" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " { " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-constant)" }, children: "data" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-punctuation)" }, children: "," }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-constant)" }, children: "error" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " } " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: "=" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-function)" }, children: "useSWR" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: "<" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-function)" }, children: "User" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-punctuation)" }, children: "," }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-function)" }, children: "Error" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: ">(uid" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-punctuation)" }, children: "," }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " fetcher);" })] }), "\n", (0, n.jsx)(e.span, { className: "line", children: (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-comment)" }, children: "// `data` 将会是 `User | undefined`." }) }), "\n", (0, n.jsx)(e.span, { className: "line", children: (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-comment)" }, children: "// `error` 将会是 `Error | undefined`." }) })] }) }), "\n", (0, n.jsx)(e.h3, { id: "useswrinfinite", children: "useSWRInfinite" }), "\n", (0, n.jsxs)(e.p, { children: ["同样适用于 ", (0, n.jsx)(e.code, { children: "swr/infinite" }), "，你可以依靠自动类型推断或自己显式地指定类型。"] }), "\n", (0, n.jsx)(e.pre, { "data-language": "typescript", "data-theme": "default", hasCopyCode: !0, children: (0, n.jsxs)(e.code, { "data-language": "typescript", "data-theme": "default", children: [(0, n.jsxs)(e.span, { className: "line", children: [(0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: "import" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " { SWRInfiniteKeyLoader } " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: "from" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-string-expression)" }, children: "'swr/infinite'" })] }), "\n", (0, n.jsx)(e.span, { className: "line", children: " " }), "\n", (0, n.jsxs)(e.span, { className: "line", children: [(0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: "const" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-function)" }, children: "getKey" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: ":" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-function)" }, children: "SWRInfiniteKeyLoader" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: "=" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " (index" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-punctuation)" }, children: "," }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " previousPageData) " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: "=>" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " {" })] }), "\n", (0, n.jsxs)(e.span, { className: "line", children: [(0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: "  " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-comment)" }, children: "// ..." })] }), "\n", (0, n.jsx)(e.span, { className: "line", children: (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: "}" }) }), "\n", (0, n.jsx)(e.span, { className: "line", children: " " }), "\n", (0, n.jsxs)(e.span, { className: "line", children: [(0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: "const" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " { " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-constant)" }, children: "data" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " } " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: "=" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-function)" }, children: "useSWRInfinite" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: "(getKey" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-punctuation)" }, children: "," }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " fetcher)" })] })] }) }), "\n", (0, n.jsx)(e.h3, { id: "useswrsubscription", children: "useSWRSubscription" }), "\n", (0, n.jsxs)(e.ul, { children: ["\n", (0, n.jsxs)(e.li, { children: ["内联的 ", (0, n.jsx)(e.code, { children: "subscribe" }), " 函数，手动指定 ", (0, n.jsx)(e.code, { children: "next" }), " 类型为 ", (0, n.jsx)(e.code, { children: "SWRSubscriptionOptions" }), " 的示例代码："] }), "\n"] }), "\n", (0, n.jsx)(e.pre, { "data-language": "tsx", "data-theme": "default", hasCopyCode: !0, children: (0, n.jsxs)(e.code, { "data-language": "tsx", "data-theme": "default", children: [(0, n.jsxs)(e.span, { className: "line", children: [(0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: "import" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " useSWRSubscription " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: "from" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-string-expression)" }, children: "'swr/subscription'" })] }), "\n", (0, n.jsxs)(e.span, { className: "line", children: [(0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: "import" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: "type" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " { SWRSubscriptionOptions } " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: "from" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-string-expression)" }, children: "'swr/subscription'" })] }), "\n", (0, n.jsx)(e.span, { className: "line", children: " " }), "\n", (0, n.jsxs)(e.span, { className: "line", children: [(0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: "const" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " { " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-constant)" }, children: "data" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-punctuation)" }, children: "," }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-constant)" }, children: "error" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " } " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: "=" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-function)" }, children: "useSWRSubscription" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: "(" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-string-expression)" }, children: "'key'" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-punctuation)" }, children: "," }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " " })] }), "\n", (0, n.jsxs)(e.span, { className: "line", children: [(0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: "  (key" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-punctuation)" }, children: "," }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " { next }" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: ":" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-function)" }, children: "SWRSubscriptionOptions" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: "<" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-constant)" }, children: "number" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-punctuation)" }, children: "," }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-function)" }, children: "Error" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: ">) " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: "=>" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " {" })] }), "\n", (0, n.jsxs)(e.span, { className: "line", children: [(0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: "  " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-comment)" }, children: "//^ key 将会被推导为 `string`" })] }), "\n", (0, n.jsxs)(e.span, { className: "line", children: [(0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: "  " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-comment)" }, children: "//...." })] }), "\n", (0, n.jsx)(e.span, { className: "line", children: (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: "  })" }) }), "\n", (0, n.jsxs)(e.span, { className: "line", children: [(0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: "  " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: "return" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " {" })] }), "\n", (0, n.jsxs)(e.span, { className: "line", children: [(0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: "    data" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-punctuation)" }, children: "," })] }), "\n", (0, n.jsxs)(e.span, { className: "line", children: [(0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: "    " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-comment)" }, children: "//^ data 将会被推导为 as `number | undefined`" })] }), "\n", (0, n.jsx)(e.span, { className: "line", children: (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: "    error" }) }), "\n", (0, n.jsxs)(e.span, { className: "line", children: [(0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: "    " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-comment)" }, children: "//^ error 将会被推导为 as `Error | undefined`" })] }), "\n", (0, n.jsx)(e.span, { className: "line", children: (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: "  }" }) }), "\n", (0, n.jsx)(e.span, { className: "line", children: (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: "}" }) })] }) }), "\n", (0, n.jsxs)(e.ul, { children: ["\n", (0, n.jsxs)(e.li, { children: ["使用 ", (0, n.jsx)(e.code, { children: "SWRSubscription" }), " 声明 ", (0, n.jsx)(e.code, { children: "subscribe" }), " 函数的示例代码："] }), "\n"] }), "\n", (0, n.jsx)(e.pre, { "data-language": "tsx", "data-theme": "default", hasCopyCode: !0, children: (0, n.jsxs)(e.code, { "data-language": "tsx", "data-theme": "default", children: [(0, n.jsxs)(e.span, { className: "line", children: [(0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: "import" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " useSWRSubscription " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: "from" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-string-expression)" }, children: "'swr/subscription'" })] }), "\n", (0, n.jsxs)(e.span, { className: "line", children: [(0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: "import" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: "type" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " { SWRSubscription } " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: "from" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-string-expression)" }, children: "'swr/subscription'" })] }), "\n", (0, n.jsx)(e.span, { className: "line", children: " " }), "\n", (0, n.jsx)(e.span, { className: "line", children: (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-comment)" }, children: "/** " }) }), "\n", (0, n.jsx)(e.span, { className: "line", children: (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-comment)" }, children: " * 第一个泛型是 Key" }) }), "\n", (0, n.jsx)(e.span, { className: "line", children: (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-comment)" }, children: " * 第二个泛型是 Data" }) }), "\n", (0, n.jsx)(e.span, { className: "line", children: (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-comment)" }, children: " * 第三个泛型是 Error" }) }), "\n", (0, n.jsx)(e.span, { className: "line", children: (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-comment)" }, children: " */" }) }), "\n", (0, n.jsxs)(e.span, { className: "line", children: [(0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: "const" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-function)" }, children: "sub" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: ":" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-function)" }, children: "SWRSubscription" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: "<" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-constant)" }, children: "string" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-punctuation)" }, children: "," }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-constant)" }, children: "number" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-punctuation)" }, children: "," }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-function)" }, children: "Error" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: "> " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: "=" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " (key" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-punctuation)" }, children: "," }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " { next }) " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: "=>" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " {                         " })] }), "\n", (0, n.jsxs)(e.span, { className: "line", children: [(0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: "  " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-comment)" }, children: "//......" })] }), "\n", (0, n.jsx)(e.span, { className: "line", children: (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: "}" }) }), "\n", (0, n.jsxs)(e.span, { className: "line", children: [(0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: "const" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " { " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-constant)" }, children: "data" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-punctuation)" }, children: "," }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-constant)" }, children: "error" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " } " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: "=" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-function)" }, children: "useSWRSubscription" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: "(" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-string-expression)" }, children: "'key'" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-punctuation)" }, children: "," }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " sub)" })] })] }) }), "\n", (0, n.jsx)(e.h2, { id: "generics", children: "泛型" }), "\n", (0, n.jsxs)(e.p, { children: ["指定 ", (0, n.jsx)(e.code, { children: "data" }), " 的类型很容易。默认情况下，它将使用 ", (0, n.jsx)(e.code, { children: "fetcher" }), " 的返回类型（未就绪状态为 ", (0, n.jsx)(e.code, { children: "undefined" }), "）作为 ", (0, n.jsx)(e.code, { children: "data" }), " 的类型，但你也可以将其作为参数传递："] }), "\n", (0, n.jsx)(e.pre, { "data-language": "typescript", "data-theme": "default", hasCopyCode: !0, children: (0, n.jsxs)(e.code, { "data-language": "typescript", "data-theme": "default", children: [(0, n.jsx)(e.span, { className: "line", children: (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-comment)" }, children: "// \uD83D\uDD39 A. 使用一个有类型的 fetcher:" }) }), "\n", (0, n.jsx)(e.span, { className: "line", children: (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-comment)" }, children: "// `getUser` 是 `(endpoint: string) => User`." }) }), "\n", (0, n.jsxs)(e.span, { className: "line", children: [(0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: "const" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " { " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-constant)" }, children: "data" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " } " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: "=" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-function)" }, children: "useSWR" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: "(" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-string-expression)" }, children: "'/api/user'" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-punctuation)" }, children: "," }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " getUser)" })] }), "\n", (0, n.jsx)(e.span, { className: "line", children: " " }), "\n", (0, n.jsx)(e.span, { className: "line", children: (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-comment)" }, children: "// \uD83D\uDD39 B. 指定 data 类型:" }) }), "\n", (0, n.jsx)(e.span, { className: "line", children: (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-comment)" }, children: "// `fetcher` 一般会返回 `any`." }) }), "\n", (0, n.jsxs)(e.span, { className: "line", children: [(0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: "const" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " { " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-constant)" }, children: "data" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " } " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: "=" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-function)" }, children: "useSWR" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: "<" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-function)" }, children: "User" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: ">(" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-string-expression)" }, children: "'/api/user'" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-punctuation)" }, children: "," }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " fetcher)" })] })] }) }), "\n", (0, n.jsx)(e.p, { children: "如果要为 SWR 的其他选项添加类型，你也可以直接导入这些类型：" }), "\n", (0, n.jsx)(e.pre, { "data-language": "typescript", "data-theme": "default", hasCopyCode: !0, children: (0, n.jsxs)(e.code, { "data-language": "typescript", "data-theme": "default", children: [(0, n.jsxs)(e.span, { className: "line", children: [(0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: "import" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " useSWR " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: "from" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-string-expression)" }, children: "'swr'" })] }), "\n", (0, n.jsxs)(e.span, { className: "line", children: [(0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: "import" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: "type" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " { SWRConfiguration } " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: "from" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-string-expression)" }, children: "'swr'" })] }), "\n", (0, n.jsx)(e.span, { className: "line", children: " " }), "\n", (0, n.jsxs)(e.span, { className: "line", children: [(0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: "const" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-constant)" }, children: "config" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: ":" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-function)" }, children: "SWRConfiguration" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: "=" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " {" })] }), "\n", (0, n.jsxs)(e.span, { className: "line", children: [(0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: "  fallbackData" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: ":" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-string-expression)" }, children: '"fallback"' }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-punctuation)" }, children: "," })] }), "\n", (0, n.jsxs)(e.span, { className: "line", children: [(0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: "  revalidateOnMount" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: ":" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-constant)" }, children: "false" })] }), "\n", (0, n.jsxs)(e.span, { className: "line", children: [(0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: "  " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-comment)" }, children: "// ..." })] }), "\n", (0, n.jsx)(e.span, { className: "line", children: (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: "}" }) }), "\n", (0, n.jsx)(e.span, { className: "line", children: " " }), "\n", (0, n.jsxs)(e.span, { className: "line", children: [(0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: "const" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " { " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-constant)" }, children: "data" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " } " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: "=" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-function)" }, children: "useSWR" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: "<" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-constant)" }, children: "string" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: "[]>(" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-string-expression)" }, children: "'/api/data'" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-punctuation)" }, children: "," }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " fetcher" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-punctuation)" }, children: "," }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " config)" })] })] }) }), "\n", (0, n.jsx)(e.h2, { id: "middleware-types", children: "中间件类型" }), "\n", (0, n.jsx)(e.p, { children: "你可以导入一些额外的类型定义，以帮助你向自定义的中间件添加类型。" }), "\n", (0, n.jsx)(e.pre, { "data-language": "typescript", "data-theme": "default", hasCopyCode: !0, children: (0, n.jsxs)(e.code, { "data-language": "typescript", "data-theme": "default", children: [(0, n.jsxs)(e.span, { className: "line", children: [(0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: "import" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " useSWR" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-punctuation)" }, children: "," }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " { Middleware" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-punctuation)" }, children: "," }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " SWRHook } " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: "from" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-string-expression)" }, children: "'swr'" })] }), "\n", (0, n.jsx)(e.span, { className: "line", children: " " }), "\n", (0, n.jsxs)(e.span, { className: "line", children: [(0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: "const" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-function)" }, children: "swrMiddleware" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: ":" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-function)" }, children: "Middleware" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: "=" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " (useSWRNext" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: ":" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-function)" }, children: "SWRHook" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: ") " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: "=>" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " (key" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-punctuation)" }, children: "," }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " fetcher" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-punctuation)" }, children: "," }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " config) " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: "=>" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " {" })] }), "\n", (0, n.jsxs)(e.span, { className: "line", children: [(0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: "  " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-comment)" }, children: "// ..." })] }), "\n", (0, n.jsxs)(e.span, { className: "line", children: [(0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: "  " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-keyword)" }, children: "return" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " " }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-function)" }, children: "useSWRNext" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: "(key" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-punctuation)" }, children: "," }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " fetcher" }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-token-punctuation)" }, children: "," }), (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: " config)" })] }), "\n", (0, n.jsx)(e.span, { className: "line", children: (0, n.jsx)(e.span, { style: { color: "var(--shiki-color-text)" }, children: "}" }) })] }) })] }) } e.default = (0, o.j)({ MDXContent: function () { let s = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {}, { wrapper: e } = Object.assign({}, (0, l.a)(), s.components); return e ? (0, n.jsx)(e, { ...s, children: (0, n.jsx)(t, { ...s }) }) : t(s) }, pageOpts: { filePath: "pages/docs/typescript.mdx.html", route: "/docs/typescript.html", title: "TypeScript", headings: i }, pageNextRoute: "/docs/typescript.html" }) } }, function (s) { s.O(0, [17, 888, 774, 179], function () { return s(s.s = 7626) }), _N_E = s.O() }])